# **Техническое задание**

## **1. Название проекта:**  
Smart_cook

## **2. Команда проекта:**
- **Team Lead:** Будыгин Тимофей
- **Разработчики (Developers):** Будыгин Тимофей
- **Учитель:** Алексей Владимирович

## **3. Описание проекта:**
### **Общие главные вопросы:**
**Для чего нужен этот проект?**  
Проект представляет собой веб-сайт, который позволяет пользователям вводить список имеющихся у них ингредиентов и 
получать рецепты на основе ИИ (YandexGPT). Это поможет людям быстро находить подходящие рецепты из доступных продуктов.

**Что должен делать проект от момента старта, до завершения работы?**  
1. Пользователь заходит на сайт и авторизуется (или регистрируется, если аккаунта нет).  
2. Вводит список ингредиентов, которые у него есть.  
3. Сайт отправляет запрос к API YandexGPT, который генерирует подходящий рецепт.  
4. Результат отображается в виде текста с пошаговыми инструкциями и картинкой блюда.  
5. Пользователь может сохранить рецепт в "Избранное".  
6. История запросов сохраняется в профиле пользователя.  
7. **Администратор** может просматривать историю всех пользователей и при необходимости блокировать аккаунты.  
8. Пользователь может выйти из аккаунта и снова войти позже, его данные сохраняются.  

### **WEB-сайт:**
#### **i. Какие и сколько страниц понадобятся для сайта?**
- **Главная страница** (форма ввода ингредиентов + результаты поиска)  
- **Страница регистрации и авторизации** (вход, регистрация, капча)  
- **Профиль пользователя** (история запросов, избранные рецепты)  
- **Страница администратора** (управление пользователями, просмотр запросов)  

#### **ii. Какие элементы страниц будут использованы на сайте?**
- **Форма ввода ингредиентов** (input + кнопка "Найти рецепт")  
- **Карточки рецептов** (название, изображение, описание)  
- **Кнопка "Сохранить в избранное"**  
- **Кнопки авторизации/регистрации**  
- **Таблица истории запросов**  
- **Панель администратора** (список пользователей + кнопки "Заблокировать", "Посмотреть историю запросов")  

#### **iii. Какие шаблоны страниц необходимо будет взять для сайта?**
Будут использоваться шаблоны Bootstrap:
- **Authentication template** (для регистрации и авторизации)
- **Dashboard template** (для админ-панели)
- **Cards & Grid System** (для отображения рецептов и профиля)
- **Forms** (для ввода ингредиентов)
- **Table** (для истории поиска)

#### **iv. Какие персональные данные могут понадобиться для регистрации и авторизации на сайте?**
- Email
- Пароль
- Аватарка (необязательно)

#### **v. Какие файлы, загружаемые пользователем сайта, могут понадобиться в работе сайта?**
- **Аватарка профиля**  
- **Избранные рецепты** (сохранение в JSON)  

#### **vi. Какое API возможно понадобится и как его можно будет использовать во время работы сайта?**
- **YandexGPT API** (генерация рецептов на основе введённых ингредиентов)  
- **CAPTCHA API** (для защиты от ботов при регистрации)  


#### **vii. Какую информацию нужно будет сохранять в процессе работы сайта?**
 **В базе данных:**
- Пользовательские аккаунты (ID, email, пароль, роль - админ или пользователь)  
- История поисков (ID пользователя, ингредиенты, дата запроса, результат)  
- Избранные рецепты (ID пользователя, сохранённые рецепты)  
- Админ-панель (заблокированные пользователи, история запросов)  

 **В виде файлов:**
- JSON с сохранёнными рецептами
- Запросы пользователей (если админ хочет увидеть запросы)  


# **Техническое задание**

## **1. Название проекта:**  
Smart_cook

## **2. Команда проекта:**
- **Team Lead:** Будыгин Тимофей
- **Разработчики (Developers):** Будыгин Тимофей
- **Учитель:** Алексей Владимирович

## **3. Описание проекта:**
### **Общие главные вопросы:**
**Для чего нужен этот проект?**  
Проект представляет собой веб-сайт, который позволяет пользователям вводить список имеющихся у них ингредиентов и 
получать рецепты на основе ИИ (YandexGPT). Это поможет людям быстро находить подходящие рецепты из доступных продуктов.

**Что должен делать проект от момента старта, до завершения работы?**  
1. Пользователь заходит на сайт и авторизуется (или регистрируется, если аккаунта нет).  
2. Вводит список ингредиентов, которые у него есть.  
3. Сайт отправляет запрос к API YandexGPT, который генерирует подходящий рецепт.  
4. Результат отображается в виде текста с пошаговыми инструкциями и картинкой блюда.  
5. Пользователь может сохранить рецепт в "Избранное".  
6. История запросов сохраняется в профиле пользователя.  
7. **Администратор** может просматривать историю всех пользователей и при необходимости блокировать аккаунты.  
8. Пользователь может выйти из аккаунта и снова войти позже, его данные сохраняются.  

### **WEB-сайт:**
#### **i. Какие и сколько страниц понадобятся для сайта?**
- **Главная страница** (форма ввода ингредиентов + результаты поиска)  
- **Страница регистрации и авторизации** (вход, регистрация, капча)  
- **Профиль пользователя** (история запросов, избранные рецепты)  
- **Страница администратора** (управление пользователями, просмотр запросов)  

#### **ii. Какие элементы страниц будут использованы на сайте?**
- **Форма ввода ингредиентов** (input + кнопка "Найти рецепт")  
- **Карточки рецептов** (название, изображение, описание)  
- **Кнопка "Сохранить в избранное"**  
- **Кнопки авторизации/регистрации**  
- **Таблица истории запросов**  
- **Панель администратора** (список пользователей + кнопки "Заблокировать", "Посмотреть историю запросов")  

#### **iii. Какие шаблоны страниц необходимо будет взять для сайта?**
Будут использоваться шаблоны Bootstrap:
- **Authentication template** (для регистрации и авторизации)
- **Dashboard template** (для админ-панели)
- **Cards & Grid System** (для отображения рецептов и профиля)
- **Forms** (для ввода ингредиентов)
- **Table** (для истории поиска)

#### **iv. Какие персональные данные могут понадобиться для регистрации и авторизации на сайте?**
- Email
- Пароль
- Аватарка (необязательно)

#### **v. Какие файлы, загружаемые пользователем сайта, могут понадобиться в работе сайта?**
- **Аватарка профиля**  
- **Избранные рецепты** (сохранение в JSON)  

#### **vi. Какое API возможно понадобится и как его можно будет использовать во время работы сайта?**
- **YandexGPT API** (генерация рецептов на основе введённых ингредиентов)  
- **CAPTCHA API** (для защиты от ботов при регистрации)  

#### **vii. Какую информацию нужно будет сохранять в процессе работы сайта?**
 **В базе данных:**
- Пользовательские аккаунты (ID, email, пароль, роль - админ или пользователь)  
- История поисков (ID пользователя, ингредиенты, дата запроса, результат)  
- Избранные рецепты (ID пользователя, сохранённые рецепты)  
- Админ-панель (заблокированные пользователи, история запросов)  

 **В виде файлов:**
- JSON с сохранёнными рецептами
- Запросы пользователей (если админ хочет увидеть запросы)  

## **4. Структура проекта:**
[Взаимодействие пользователя и кода](structure.png):

## **5. Описание кода:**

### **a. Переменные и константы:**

- `user_id` – ID пользователя
- `ingredients` – список введённых ингредиентов
- `generated_recipe` – сгенерированный рецепт
- `image_url` – ссылка на изображение блюда

### **b. Функции:**

- `save_search(user_id, ingredients, recipe, image_url)` – сохраняет историю поиска
- `get_history(user_id)` – получает историю поиска
- `add_favorite(user_id, recipe_id)` – добавляет рецепт в избранное
- `ban_user(admin_id, banned_user_id)` – блокировка пользователя

### **c. Классы:**

- `User` – пользователь (роль, логин, email, пароль)
- `Recipe` – информация о рецепте
- `SearchHistory` – история поисков
- `AdminPanel` – админская панель

### **d. Библиотеки:**

- `Flask` – серверная часть
- `Bootstrap` – стилизация
- `SQLAlchemy` – работа с БД
- `requests` – API-запросы
- `Pillow` – обработка изображений

## **6. Графический интерфейс:**

[Проект включает в себя несколько страниц, основные эскизы которых](vision.png):

- **Главная страница** – форма ввода ингредиентов и вывод списка рецептов.
- **Авторизация** – Авторизация и вход
- **Страница профиля** – отображение истории запросов и избранных рецептов (у юзера и админа).
- **Страница администратора** – управление пользователями и история запросов.

## **7. Дедлайны:**

| Этап работы                  | Время на выполнение |
|------------------------------|---------------------|
| Разработка backend           | 6 дней              |
| Разработка frontend          | 5 дней              |
| Интеграция API               | 2 дня               |
| Тестирование                 | 2 дня               |
| Доработки и исправления      | 7 дней              |
| Финальное оформление проекта | 1 день              |